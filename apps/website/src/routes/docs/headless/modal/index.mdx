---
title: Qwik UI | Modal
---

import topLayer from '../../../../../public/images/top-layer.webp';

import { statusByComponent } from '~/_state/component-statuses';

<StatusBanner status={statusByComponent.headless.Modal} />
import {FeatureList} from '~/components/feature-list/feature-list';

# Modal

A panel that appears above all other content, blocking interaction with the rest of the page.

<Showcase name="hero" />

> Looking for something above other content that doesn't block interaction with the rest of the page? Check out [Qwik UI's popover component](../../../docs/headless/popover/).

## âœ¨ Features

<FeatureList
  features={[
    'Follows WAI-ARIA dialog and alertdialog guidelines.',
    'Screen reader support with title and description.',
    'Full keyboard navigation',
    'Locks focus inside the modal',
    'Prevents scrolling when open',
    'Control the open state',
    'Above other content',
    'Custom backdrop dismiss',
  ]}
/>

## Building Blocks

<CodeSnippet name="building-blocks" />

### ðŸŽ¨ Anatomy

<AnatomyTable
  propDescriptors={[
    {
      name: 'Modal.Root',
      description: 'The primary container for the modal.',
    },
    {
      name: 'Modal.Panel',
      description: 'The dialog element that is rendered on top of other content.',
    },
    {
      name: 'Modal.Trigger',
      description: 'A button that opens the modal when interacted with.',
    },
    {
      name: 'Modal.Title',
      description: 'An accessible name for the modal.',
    },
    {
      name: 'ModalDescription',
      description: `An optional accessible description for the modal.`,
    },
    {
      name: 'Modal.Close',
      description: 'A button that closes the modal when interacted with.',
    },
  ]}
/>

## Why use a headless modal?

Modals are used when an important choice needs to be made in the application. The rest of the content isn't interactive until a certain action has been performed.

Qwik UI builds on top of the `dialog` element, and solves the following issues:

### Native dialog pain points

<FeatureList
  issues={[
    'Unintuitive focus locking behavior',
    'No scroll locking behavior',
    'Unintuitive user agent styles',
    'Confusing terminology (non-modal dialogs)',
  ]}
/>

> The dialog element is the `<Modal.Panel />` component in Qwik UI. This is one of the few cases where we believe the native behavior is a great foundation.

## Dialog extendability

<Showcase name="hero" />

Above, we mentioned the Modal component uses the `dialog` element. This means you can also use the native [dialog element attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) to customize the modal.

> We ask that you avoid directly opening the native dialog element. This is not supported by Qwik UI. Use the `bind:show` prop instead.

### Attribute example

<Showcase name="auto-focus" />

Above is an example of the `autofocus` attribute, used to focus the 2nd input when the dialog is opened.

> When adding properties on `<Modal.Panel />`, it is the same as sticking the attribute, class, or API on the dialog element itself.

## Programmatic behavior

To programmatically open or close the modal, we can use `bind:show`, a signal prop that allows us to reactively control the modal state.

<Showcase name="programmatic" />

`isOpen` is a signal that we pass into our Modal component to customize when the modal can be open or closed.

## The Top Layer

<img src={topLayer} class="mb-6 rounded-base" />

In Chrome and Edge, a `top layer` UI button is shown in the dev tools. This means the element content is placed above any other content on the page, preventing any overflow or style issues.

The top layer is used in both the **Modal** and **Popover** components of Qwik UI.

> The previous implementation of modals required the use of [portals](https://qwik.builder.io/docs/cookbook/portal/#portal), the top layer pseudo class is a **native solution** to this problem. No more z-index wars!

## Backdrops

To add a backdrop, the `::backdrop` pseudo element can be used. [Backdrops](https://developer.mozilla.org/en-US/docs/Web/CSS/::backdrop) are right underneath top layer elements.

By default, the `dialog` element comes with a subtle backdrop, below is a snippet customizing the backdrop background along with the [backdrop filter](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter) css property.

<CodeSnippet name="backdrop.css" />

<Showcase name="backdrop" />

> Styling a [backdrop in Tailwind](https://tailwindcss.com/docs/backdrop-blur) can be done using the `backdrop` prefix.

## Dismissing Modals via Backdrop

<Showcase name="backdrop-close" />

By default, modals are dismissed when clicking the backdrop. To disable this behavior, set `disableOnBackdropClick={true}` on the `<Modal.Root />` component.

## Alertdialog

An alert dialog is a modal that interrupts user workflow to convey critical information and obtain a response. It's typically used for confirmations, error messages, or destructive actions.

<Showcase name="alert-dialog" />

By adding the `alert` prop to our component, we adhere to the [WAI ARIA Alertdialog specification](https://www.w3.org/WAI/ARIA/apg/patterns/alertdialog/), enabling assistive technologies to distinguish alert dialogs for special handling.

Alertdialogs cannot be dismissed by clicking the backdrop, regardless of whether the `disableOnBackdropClick` prop was set to true.

## Focus Locking

Focus locking prevents focus from leaving the modal.

<Showcase name="hero" />

Using the Tab key to navigate through the modal will cycle the focus from the last to the first focusable element automatically.

## Stripped Styles

As a headless library, Qwik UI avoids adding styles to components. However, it uses native solutions where appropriate, which may include browser default styles.

These default styles can be difficult to manage, so they have been removed from the Modal component to simplify debugging.

<CodeSnippet name="stripped-styles.css" />

While in most cases, this would be up to a consumer's CSS reset to solve, in this case we are **stripping** the max-width and max-height styles on the dialog element under the hood.

This is done in a separate layer so that styles are easily overridable in consumer facing applications.

## Animations

Animating things to display none has historically been a significant challenge on the web. This is because display none is a `discrete` property, and is **unanimatable**.

> There is currently efforts to solve this problem. [New CSS properties](https://developer.chrome.com/blog/entry-exit-animations/) have been introduced, but currently do not provide good enough browser support.

### Our current approach

Qwik UI automatically detects any `animation` or `transition` declarations under the hood and waits for them to finish before closing the modal. If there is no animation, then it will close normally.

### Adding a transition

<Showcase name="transition" />

To add an transition, use the `data-open`, `data-closing` and `data-closed` data attributes. Above is a snippet where we transition both the modal and backdrop's opacity.

### Adding an animation

<Showcase name="animatable" />

To add an animation, it's the same as with transitions, using the `data-open` and `data-closing` data attributes. Below is a snippet of the animation example above.

### Backdrop animations

Backdrop animations have also made significant progress in the last year, with support provided in over half of the major browsers, and close to 70% of users.

To add a backdrop animation, make sure to use the `::backdrop` pseudo selector to the end of the `data-closing` or `data-open` classes.

> Firefox currently does not support backdrop animations. The fallback for browsers that do not support animated backdrops is the same as a non-animated backdrop.

## Sheets

Sheets are a type of modal/overlay used to provide temporary access to important information, while also being easily dismissible.

### Side Sheet

<Showcase name="sheet" />

### Bottom Sheet

<Showcase name="bottom-sheet" />

Bottom sheets are more prevalent in mobile applications, usually to simplify UI.

### Animations / Transitions CSS

<CodeSnippet name="animation.css" />

## Stacked Modals

Although this is not always a recommended pattern, modals can be stacked. Focus will be trapped within the last opened modal.

<Showcase name="stacked" />

## Example CSS

The example for the CSS used in all of the examples above can be found below.

<CodeSnippet name="modal.css" />

### SSR dilemma

Unfortunately, to create modals that open on page load in the web, it needs to be done eagerly on the client. (including existing implementations)

<CodeSnippet name="page-load.tsx" />

> There is currently discussions from the Open UI group about the possibility of a modal dialog that can open on initial load.

## Keyboard interaction

<KeyboardInteractionTable
  keyDescriptors={[
    {
      keyTitle: 'Escape',
      description: 'Closes the dialog.',
    },
    {
      keyTitle: 'Tab',
      description:
        'Moves focus to the next focusable item in the modal. If none, then loops back to the last item.',
    },
    {
      keyTitle: 'Shift + Tab',
      description:
        'Moves focus to the previous focusable item in the modal. If none, then loops back to the last item.',
    },
  ]}
/>

## API

### Modal.Root

<APITable
  propDescriptors={[
    {
      name: 'bind:show',
      type: 'Signal',
      info: 'boolean',
      description: 'Toggle between showing or hiding the modal.',
    },
    {
      name: 'closeOnBackdropClick',
      type: 'boolean',
      description: 'A way to tell the modal to not hide when the ::backdrop is clicked.',
    },
    {
      name: 'onClose$',
      type: 'function',
      info: '() => void',
      description: 'An event hook that gets notified whenever the modal gets closed.',
    },
    {
      name: 'onShow$',
      type: 'function',
      info: '() => void',
      description: 'An event hook that gets notified whenever the modal shows up.',
    },
    {
      name: 'data-open',
      type: 'attribute',
      description: 'A data attribute used for styling open modals and entry animations.',
    },
    {
      name: 'data-closing',
      type: 'attribute',
      description: 'A data attribute used for exit animations.',
    },
    {
      name: 'data-closed',
      type: 'attribute',
      description: 'A data attribute used for closed modals.',
    },
  ]}
/>

---
title: Qwik UI | Combobox
---

import { statusByComponent } from '~/_state/component-statuses';
import { FeatureList } from '~/components/feature-list/feature-list';

<StatusBanner status={statusByComponent.headless.Combobox} />

# Combobox

Users can either type a value or pick one from a dropdown list.

<Showcase name="hero" />

## âœ¨ Features

<FeatureList
  features={[
    'WAI ARIA Combobox design pattern',
    'Single and multiple selection',
    'Reactive and initial value changes',
    'Disabled items',
    'Tab key focus management',
    'Grouped items',
    'Looping',
    'Custom scroll behavior',
    'Listbox UI above all (Popover)',
    'Custom positioning (Popover)',
    'Typeahead item selection and focus',
    'Arrow key navigation and focus management',
    'Open/Close popover by typing, focus, or manually',
    'Custom filter function',
    'Closes on no matching items',
  ]}
  roadmap={[
    'Browser autofill with hidden select',
    'Form validation support',
    'Custom placeholder',
  ]}
/>

## Building blocks

<CodeSnippet name="building-blocks" />

### ðŸŽ¨ Anatomy

<AnatomyTable
  propDescriptors={[
    {
      name: 'Combobox.Root',
      description: 'Container for the Combobox.',
    },
    {
      name: 'Combobox.Label',
      description: 'Label for the Combobox.',
    },
    {
      name: 'Combobox.Control',
      description: 'Central element around which other elements are positioned.',
    },
    {
      name: 'Combobox.Trigger',
      description: 'Opens and closes the Combobox.',
    },
    {
      name: 'Combobox.Input',
      description: 'Filters items and shows the selected value.',
    },
    {
      name: 'Combobox.Popover',
      description:
        'Container for list items, positioned above other content. Also the listbox.',
    },
    {
      name: 'Combobox.Item',
      description: 'item in the Listbox.',
    },
    {
      name: 'Combobox.ItemLabel',
      description: 'Label for an item.',
    },
    {
      name: 'Combobox.ItemIndicator',
      description: 'Indicates selection.',
    },
    {
      name: 'Combobox.Group',
      description: 'Groups related items.',
    },
    {
      name: 'Combobox.GroupLabel',
      description: 'Label for a group of items.',
    },
  ]}
/>

## Why use a headless Combobox?

A native combobox does not exist. The Open UI group has created a [proposal](https://open-ui.org/components/combobox.explainer/) for a new HTML element called `combobox`.

## Passing data

To add data, use the `<Combobox.Item>` component inside of the popover.

### Basic example

<Showcase name="string" />

By default, the content inside of the `<Combobox.ItemLabel />` component is the item's value.

### Mapping over data

<Showcase name="hero" />

You control how the data is rendered. Map over the data or render the items as you like.

### Object example

<Showcase name="object" />

> If you need to display a different value to the user, use the `value` prop on `<Combobox.Item />`. This will be explained in the next section.

### Passing a distinct value

<Showcase name="item-value" />

A distinct value is when one thing is displayed to the user, but another value is passed to the item.

By adding the `value` prop to the `<Combobox.Item />` component, a distinct value is created.

> A common use case is to select a user's unique account id

### Handling selection changes

<Showcase name="change" />

Use the `onChange$` prop to listen for changes in the selected value. It provides the new selected value as an argument.

The example above increments a count when a new item is selected.

## Component state

To add initial state, use the `value` prop on the `<Combobox.Root />` component.

### Uncontrolled / Initial value

<Showcase name="initial" />

The example above sets "Jessie" as the initial value, so it is selected and focused.

### Controlled / Reactive value

To add reactive state, use the `bind:value` prop on the `<Combobox.Root />` component.

<Showcase name="reactive" />

> Note that the initial value of the signal will affect the initial value of the checkbox.

### Programmatic changes

Optionally, the selected value can be programmatically updated by the signal.

<Showcase name="programmatic" />

In the example above, clicking the "Change to Abby" button changes the selected value.

### Disabled items

<Showcase name="disabled" />

Add the `disabled` prop to `<Combobox.Item />` to disable items.

Disabled items cannot be selected or focused and are skipped during arrow key navigation.

### Dynamically adding items

A common use case is adding items dynamically, like an infinite scrolling list of users.

<Showcase name="add-items" />

Clicking the `Add Users` button creates new users to the list. We could also fetch more data from the server or database.

### Item indicators

<Showcase name="indicator" />

Add `<Combobox.ItemIndicator />` inside `<Combobox.Item />` to indicate the selected item.

### Multiple selections

To allow multiple selections, set the `multiple` prop to `true`.

<Showcase name="multiple" />

Use the `bind:displayValue` signal to configure multiple display values.

> Qwik UI updates the `bind:displayValue` signal with the latest display values.

You can combine `bind:value` and `bind:displayValue` to create a custom widget that displays selected values as a list of pills.

## Menu behavior

### Custom Filter

Change the filter behavior by adding the `filter$` prop to the `<Combobox.Root />` component. This function determines how items are filtered based on the user's input.

<Showcase name="filter" />

The `filter$` prop accepts a function with two parameters: `displayValue` and `inputValue`.

### Handling popover open/close

To handle the popover open/close state, use the `onOpenChange$` prop. It passes a boolean indicating whether the listbox is open.

<Showcase name="open-change" />

## Handling input changes

Add the `onInput$` prop to the `<Combobox.Root />` component.

<Showcase name="input" />

This function is called when the user types in the input.

### Looping

To loop through items, use the `loop` prop on `<Combobox.Root />`.

<Showcase name="loop" />

- Pressing the down arrow key moves focus to the first enabled item.
- Pressing the up arrow key moves focus to the last enabled item.

### Grouped Items

Use `<Combobox.Group />` and `<Combobox.GroupLabel />` to group items and provide an accessible name.

<Showcase name="group" />

### Scrolling

Handle scrolling in the listbox since focus remains on the select trigger when open.

<Showcase name="scrollable" />

The native `scrollIntoView` method scrolls items into view when highlighted. To customize scroll behavior, add the `scrollOptions` prop to `<Combobox.Root />`.

> Qwik UI does not provide virtual scrolling. However, a [Qwik community package](https://github.com/literalpie/qwik-virtual-scroll) implements virtual scrolling based on [Tanstack Virtual](https://github.com/TanStack/virtual).

## Placeholder

We can provide a custom placeholder to the `<Combobox.Root />` component by adding the `placeholder` prop.

<Showcase name="placeholder" />

When a value is not selected, the placeholder is displayed.

## CSR

Like every Qwik UI component, the Combobox component can be rendered server-side or client-side.

<Showcase name="csr" />

## Example CSS

Every code example uses the following CSS:

<CodeSnippet name="combobox.css" />

Some CSS variables are specific to the docs, feel free to plug in your own values or variables!

## Keyboard Interaction

<KeyboardInteractionTable
  keyDescriptors={[
    {
      keyTitle: 'Enter',
      description: `Selects a highlighted item when open.`,
    },
    {
      keyTitle: 'ArrowDown',
      description: `Opens the combobox or moves focus down.`,
    },
    {
      keyTitle: 'ArrowUp',
      description: `Opens the combobox or moves focus up.`,
    },
    {
      keyTitle: 'Home',
      description: `When focus is on an item, moves focus to first item.`,
    },
    {
      keyTitle: 'End',
      description: `When focus is on an item, moves focus to last item.`,
    },
    {
      keyTitle: 'Esc',
      description: `Closes the combobox and moves focus to the trigger.`,
    },
  ]}
/>

### Multi Select

When in multi select mode, additional keyboard interactions are available.

<KeyboardInteractionTable
  keyDescriptors={[
    {
      keyTitle: 'Space',
      description: `Toggles the selection of the highlighted item without closing the combobox.`,
    },
    {
      keyTitle: 'Enter',
      description: `Toggles the selection of the highlighted item without closing the combobox.`,
    },
    {
      keyTitle: 'Shift + ArrowDown',
      description: `Extends the selection from the current focus to the next item.`,
    },
    {
      keyTitle: 'Shift + ArrowUp',
      description: `Extends the selection from the current focus to the previous item.`,
    },
    {
      keyTitle: 'Ctrl + A',
      description: `Selects all items in the list.`,
    },
    {
      keyTitle: 'Esc',
      description: `Closes the combobox and moves focus back to the trigger.`,
    },
  ]}
/>

## API

### Data Attributes

`Combobox`, `Combobox.Trigger`, `Combobox.DisplayValue`, `Combobox.Popover`, and `Combobox.Listbox` all have data attributes that are used to track state.

<AnatomyTable
  firstColumnLabel="Attribute"
  propDescriptors={[
    {
      name: 'data-open',
      description: 'If the listbox is open (Boolean).',
    },
    {
      name: 'data-closed',
      description: 'If the listbox is closed (Boolean).',
    },
  ]}
/>

`Combobox.Item` has the following data attributes:

<AnatomyTable
  firstColumnLabel="Attribute"
  propDescriptors={[
    {
      name: 'data-selected',
      description: 'If the item is selected. (Boolean)',
    },
    {
      name: 'data-highlighted',
      description: 'If the item is highlighted. (Boolean)',
    },
    {
      name: 'data-disabled',
      description: 'If item is disabled. (Boolean)',
    },
  ]}
/>

### Combobox.Root

<APITable
  propDescriptors={[
    {
      name: 'value',
      type: 'string',
      description: 'Uncontrolled combobox value.',
    },
    {
      name: 'bind:value',
      type: 'signal',
      description: 'Controlled selected value, manages the selected item.',
      info: 'string',
    },
    {
      name: 'bind:displayValue',
      type: 'signal',
      description: 'Controlled display value, manages the display items.',
      info: 'string',
    },
    {
      name: 'onChange$',
      type: 'QRL',
      description: 'Function called when the selected value changes.',
      info: 'QRL<(value: string) => void>',
    },
    {
      name: 'onOpenChange$',
      type: 'QRL',
      description: 'Function called when the listbox opens or closes.',
      info: 'QRL<(open: boolean) => void>',
    },
    {
      name: 'loop',
      type: 'boolean',
      description:
        'Determines if focus cycles from the last item back to the first, or vice versa.',
    },
    {
      name: 'filter$',
      type: 'QRL',
      description: 'Function to filter items based on user input.',
      info: 'QRL<(displayValue: string, inputValue: string) => boolean>',
    },
    {
      name: 'onInput$',
      type: 'QRL',
      description: 'Function called when the user types in the input.',
      info: 'QRL<(inputValue: string) => void>',
    },
  ]}
/>

### Combobox.Popover

`Combobox.Popover` is a wrapper of the [Popover](../../../docs/headless/popover/) component, and has the Same API's.

### Combobox.Item:

<APITable
  propDescriptors={[
    {
      name: 'value',
      type: 'string',
      description: 'Give the combobox a value other than what is displayed in the item.',
    },
    {
      name: 'disabled',
      type: 'boolean',
      description: 'When true, the item is disabled.',
    },
  ]}
/>

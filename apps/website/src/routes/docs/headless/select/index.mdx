---
title: Qwik UI | Select
---

import { FeatureList } from '~/components/feature-list/feature-list';
import { statusByComponent } from '~/_state/component-statuses';

<StatusBanner status={statusByComponent.headless.Select} />

# Select

A control that allows the user to select multiple predefined items from a listbox.

<Showcase name="hero" />

## âœ¨ Features

<FeatureList
  features={[
    'WAI ARIA Listbox design pattern',
    'Single and multiple selection',
    'Reactive and initial value changes',
    'Disabled items',
    'Tab key focus management',
    'Grouped items',
    'Looping',
    'Custom scroll behavior',
    'Listbox UI above all (Popover)',
    'Custom positioning (Popover)',
    'Typeahead item selection and focus',
    'Arrow key navigation and focus management',
    'Custom placeholder',
  ]}
  roadmap={['Opt-in native form support via a visually hidden select', 'RTL support']}
/>

## Building blocks

<CodeSnippet name="building-blocks" />

### ðŸŽ¨ Anatomy

<AnatomyTable
  propDescriptors={[
    {
      name: 'Select.Root',
      description: 'The root container for the Select component.',
    },
    {
      name: 'Select.Label',
      description:
        'A label that computes the accessible name of the select. If not present, the display value is used instead.',
    },
    {
      name: 'Select.Trigger',
      description:
        'A button or similar control that opens the select menu when interacted with.',
    },
    {
      name: 'Select.DisplayValue',
      description: 'Displays the currently selected value.',
    },
    {
      name: 'Select.Popover',
      description:
        'A wrapper of the Qwik UI Popover component. It places its content above everything else.',
    },
    {
      name: 'Select.Listbox',
      description: 'A list that displays selectable items.',
    },
    {
      name: 'Select.Item',
      description: 'A selectable item within the Select.Listbox.',
    },
    {
      name: 'Select.ItemLabel',
      description: `The item's label. If there is no value prop, this is the item's value.`,
    },
    {
      name: 'Select.ItemIndicator',
      description: `Allows you to render an icon or other visual element that is displayed next to the item's label whenever an item is selected.`,
    },
    {
      name: 'Select.Group',
      description: 'Groups related items within the Select.Listbox.',
    },
    {
      name: 'Select.GroupLabel',
      description: 'A label that computes the accessible name of the group.',
    },
  ]}
/>

## Why use a headless Select?

The native `<select>` HTML element encounters significant obstacles in terms of styling flexibility, consistency across different browsers, and delivering a seamless user experience.

### Native Select pain points

<FeatureList
  issues={[
    'Styling Limitations',
    'Multiselect Complexity',
    'Limited Typeahead Support',
    'Inconsistent Behavior across browsers and devices',
  ]}
/>

### Native effort

The [Open UI group](https://open-ui.org/components/selectlist/) is creating a stylable select element to address similar use cases as headless components.

However, since it is built on the existing native select element, its customizability and out-of-the-box experience may be limited, even with upcoming enhancements.

## Passing data

To add data, use the `<Select.Item>` component inside of the listbox.

### Basic example

<Showcase name="string" />

By default, the content inside of the `<Select.ItemLabel />` component is the item's value.

### Mapping over data

<Showcase name="hero" />

You control how the data is rendered. Map over the data or render the items as you like.

### Object example

<Showcase name="object" />

> If you need to display a different value to the user, use the `value` prop on `<Select.Item />`. This will be explained in the next section.

### Passing a distinct value

<Showcase name="item-value" />

A distinct value is when one thing is displayed to the user, but another value is passed to the item.

By adding the `value` prop to the `<Select.Item />` component, a distinct value is created.

> A common use case is to select a user's unique account id

### Handling selection changes

<Showcase name="change-value" />

Use the `onChange$` prop to listen for changes in the selected value. It provides the new selected value as an argument.

The example above increments a count when a new item is selected.

### Forms

To use the select in a form, we provide a visually hidden native select element inside of `<Select.HiddenNativeSelect>`.

<Showcase name="form" />

The native select element is created when a form name has been given to `<Select.Root />`

### Validation

<Showcase name="validation" />

The `<Select.ErrorMessage />` component is used to display errors when the select is invalid.

To style based on the invalid state, use the `data-invalid` data attribute.

### Descriptions

Provide more information to assistive technologies by adding a description to the select.

<Showcase name="description" />

## Component state

We can select an initial uncontrolled value by passing the `value` prop to the `<Select.Root />` component.

### Uncontrolled / Initial value

<Showcase name="uncontrolled" />

The above example passes one of the item values "Jessie" as the initial value. As a result, the matching value is selected and focused.

> The `value` prop in Qwik is similar to a `defaultValue` prop in other frameworks. For controlled values, we use signals and the bind syntax.

### Controlled / Reactive value

We can pass reactive state by using the `bind:value` prop to the `<Select.Root />` component.

<Showcase name="controlled" />

`bind:value` is a signal prop, it allows us to reactively control the selected value of the select component.

> Signal props enables two-way data binding efficiently without the common issues of change detection in other frameworks.

We can also reactively control the open state of the select component by using the `bind:open` signal prop.

<Showcase name="bind-open" />

### Programmatic changes

We can also programmatically change the selected value by changing the value of the signal.

<Showcase name="controlled-value" />

In the above example, we've changed the selected value by clicking on the "Change to Abby" button.

### Disabled items

<Showcase name="disabled" />

Items can be disabled by adding the `disabled` prop to the `<Select.Item />` component.

Disabled items are not selectable or focusable. They are also skipped when using the arrow keys to navigate through the items.

### Dynamically adding users

A common use case is the addition of items dynamically. For example, an infinite scrolling list of users.

<Showcase name="add-users" />

Clicking the `Add Users` button adds a couple new users mapped to the list. Taking this further, we could grab more data from the server and add it to the list, or even hitting a database to get more users.

### Item Indicators

<Showcase name="indicator" />

We can add an indicator to the selected item by adding the `<Select.ItemIndicator />` component inside the `<Select.Item />` component.

This is useful for indicating the selected item in a list of items.

### Multiple selections

Sometimes we want to allow the user to select multiple pre-defined items at a time. We can do that by setting the `multiple` prop to `true`.

<Showcase name="multiple" />

If we want to configure the multiple display values, we can use the `bind:displayValue` signal.

Something to be aware of, is the `<Select.DisplayValue />` component will now display whatever you put inside of it.

> Under the hood, Qwik UI updates the `bind:displayValue` signal with the latest display values.

Taking this a step further, one could combine the `bind:value` and `bind:displayValue` props together to create a custom widget that displays the selected values in a list of pills.

<Showcase name="multiple-pill" />

The above example shows the selected values which can be filtered by clicking on the cancel icon.

<Note status="warning">
  When in multiple selection mode, the `value` prop on `<Select.Root />` is disabled, and the initial value of
  the `bind:value` signal should be used for an initial value instead.

This is because it is harder to customize the individual selected display values when in multiple selection mode.

</Note>

> Signals passed using the bind syntax can also be tracked in tasks, updated, and all the other goodies you know and love with signals in Qwik.

## Menu behavior

### Typeahead

The select offers a typeahead feature that allows users to quickly find items by typing.

<Showcase name="typeahead" />

It reduces the need to scroll through the available items. Typeahead is particularly handy for expected data sets, such as a list of countries.

> The ability to select items without the listbox open is also useful for those using screen readers.

### Handling listbox open / close

We may want to handle the open / close of the listbox. For example, we may want to show a loading indicator when the listbox is open.

<Showcase name="open-change" />

To do that, we can use the `onOpenChange$` prop. A parameter is passed to the handler, which is a boolean indicating whether the listbox is open or closed.

### Looping

To loop through the items, we can use the `loop` boolean prop on the `<Select.Root />` component.

<Showcase name="loop" />

- Pressing the down arrow key will move focus to the first item in the list.

- Pressing the up arrow key will move focus to the last item in the list.

### Grouped items

<Showcase name="group" />

The `<Select.Group />` and `<Select.GroupLabel />` components are used to group and provide an accessible name to the Grouped items.

Wrap the items in a group, add a Label, and you're good to go!

### Scrolling

Because focus remains on the select trigger when the listbox is open, it's important to handle scrolling in the listbox.

<Showcase name="scrollable" />

The native `scrollIntoView` method is used to scroll the itemss into view when the user highlights an items.

To customize the scroll behavior, add the `scrollOptions` prop to the `<Select.Root />` component.

> Qwik UI does not provide virtual scrolling. However, we have found a [Qwik community member's package](https://github.com/literalpie/qwik-virtual-scroll) that has an implementation of virtual scrolling for Qwik based on [Tanstack Virtual](https://github.com/TanStack/virtual).

## Placeholder

We can provide a custom placeholder to the `<Select.DisplayValue />` component by adding the `placeholder` prop.

<Showcase name="hero" />

When a value is not selected, the placeholder is displayed.

## CSR

The select component can be rendered both server-side or client-side, same with the rest of the components.

<Showcase name="csr" />

## Example CSS

Every code example uses the following CSS:

<CodeSnippet name="select.css" />

Some CSS variables are specific to the docs, feel free to plug in your own values or variables!

## Keyboard Interaction

<KeyboardInteractionTable
  keyDescriptors={[
    {
      keyTitle: 'Space',
      description: `Opens the menu and selects a highlighted item.`,
    },
    {
      keyTitle: 'Enter',
      description: `Opens the menu and selects a highlighted item.`,
    },
    {
      keyTitle: 'ArrowDown',
      description: `Opens the menu or moves focus down.`,
    },
    {
      keyTitle: 'ArrowUp',
      description: `Opens the menu or moves focus up.`,
    },
    {
      keyTitle: 'Home',
      description: `When focus is on an item, moves focus to first item.`,
    },
    {
      keyTitle: 'End',
      description: `When focus is on an item, moves focus to last item.`,
    },
    {
      keyTitle: 'ArrowRight',
      description: `When focus is on the trigger, change the selection to the next item.`,
    },
    {
      keyTitle: 'ArrowLeft',
      description: `When focus is on the trigger, change the selection to the previous item.`,
    },
    {
      keyTitle: 'Esc',
      description: `Closes the select and moves focus to the trigger.`,
    },
  ]}
/>

### Multi Select

When in multi select mode, additional keyboard interactions are available.

<KeyboardInteractionTable
  keyDescriptors={[
    {
      keyTitle: 'Space',
      description: `Toggles the selection of the highlighted item without closing the menu.`,
    },
    {
      keyTitle: 'Enter',
      description: `Toggles the selection of the highlighted item without closing the menu.`,
    },
    {
      keyTitle: 'Shift + ArrowDown',
      description: `Extends the selection from the current focus to the next item.`,
    },
    {
      keyTitle: 'Shift + ArrowUp',
      description: `Extends the selection from the current focus to the previous item.`,
    },
    {
      keyTitle: 'Ctrl + A',
      description: `Selects all items in the list.`,
    },
    {
      keyTitle: 'Esc',
      description: `Closes the menu and moves focus back to the trigger.`,
    },
  ]}
/>

## API

### Data Attributes

`Select`, `Select.Trigger`, `Select.DisplayValue`, `Select.Popover`, and `Select.Listbox` all have data attributes that are used to track state.

<AnatomyTable
  firstColumnLabel="Attribute"
  propDescriptors={[
    {
      name: 'data-open',
      description: 'If the listbox is open (Boolean).',
    },
    {
      name: 'data-closed',
      description: 'If the listbox is closed (Boolean).',
    },
  ]}
/>

`Select.Item` has the following data attributes:

<AnatomyTable
  firstColumnLabel="Attribute"
  propDescriptors={[
    {
      name: 'data-selected',
      description: 'If the item is selected. (Boolean)',
    },
    {
      name: 'data-highlighted',
      description: 'If the item is highlighted. (Boolean)',
    },
    {
      name: 'data-disabled',
      description: 'If item is disabled. (Boolean)',
    },
  ]}
/>

### Select.Root

<APITable
  propDescriptors={[
    {
      name: 'value',
      type: 'string',
      description: 'Uncontrolled select value.',
    },
    {
      name: 'bind:value',
      type: 'signal',
      description: 'Controlled selected value, manages the selected item.',
      info: 'string',
    },
    {
      name: 'bind:displayValue',
      type: 'signal',
      description: 'Controlled display value, manages the display items.',
      info: 'string',
    },
    {
      name: 'onChange$',
      type: 'QRL',
      description: 'Function called when the selected value changes.',
      info: 'QRL<(value: string) => void>',
    },
    {
      name: 'onOpenChange$',
      type: 'QRL',
      description: 'Function called when the listbox opens or closes.',
      info: 'QRL<(open: boolean) => void>',
    },
    {
      name: 'loop',
      type: 'boolean',
      description:
        'Determines if focus cycles from the last item back to the first, or vice versa.',
    },
  ]}
/>

### Select.DisplayValue

<APITable
  propDescriptors={[
    {
      name: 'placeholder',
      type: 'string',
      description: 'Sets a placeholder instead of a selected value.',
    },
  ]}
/>

### Select.Popover

`Select.Popover` is a wrapper of the [Popover](../../../docs/headless/popover/) component, and has the Same API's.

### Select.Item:

<APITable
  propDescriptors={[
    {
      name: 'value',
      type: 'string',
      description: 'Give the select a value other than what is displayed in the item.',
    },
    {
      name: 'disabled',
      type: 'boolean',
      description: 'When true, the item is disabled.',
    },
  ]}
/>
